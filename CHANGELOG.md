Change Log
==========
Version 3.5.2 *(2018-12-07)*
----------------------------
- 新增 消息支持混合消息类型
- 优化 未读消息支持工单消息

Version 3.5.1 *(2018-11-12)*
----------------------------
- 优化 提高海外用户连接访问的稳定性
- 优化 创建工单的时候与上一个对话关联
- 修复 询前表单可能出现在子线程更新 UI 的问题

Version 3.5.0 *(2018-09-07)*
----------------------------
- 优化 IntentBuilder 增加 updateClientInfo 方法
- 优化 关闭对话界面后，取消所有请网络求

Version 3.4.9 *(2018-08-21)*
----------------------------
- 新增 刷新推送接口

Version 3.4.8 *(2018-07-06)*
----------------------------
- 优化 企业名片名字为空的时候显示默认名字
- 优化 内部逻辑优化
- 修复 部分机器人消息不显示富文本内容问题

Version 3.4.7 *(2018-01-08)*
----------------------------
- 修复 调用顾客更新接口上传头像地址，无法显示头像问题
- 修复 显示富文本消息时可能出现的内存泄露的问题
- 优化 时间转换处理

Version 3.4.6 *(2017-09-01)*
----------------------------
- 优化 处理 Android 6.0 及以上系统的 Camera 权限问题
- 优化 兼容 Android 7.0 文件打开方式
- 优化 允许开发者设置自定义 ImageLoader
- 优化 将 SDK 里面的资源改为私有资源

Version 3.4.5 *(2017-08-11)*
----------------------------
- 修复 按下标题栏返回按钮关闭对话界面时，键盘可能不收回的情况
- 修复 图片加载的时候因为生命周期问题造成的崩溃问题
- 修复 保存图片的时候，如果 Activity 销毁，造成的空指针错误
- 优化 最大发送图片总数改为 3

Version 3.4.4 *(2017-07-14)*
----------------------------
- 优化 询前表单，如果所有选项都是「回头客不用填」，则直接跳过
- 优化 Socket 没有连上的时候提示用户，并且不允许发消息
- 新增 支持 无消息访客过滤 功能
- 修复 加载验证码的时候可能出现报错问题
- 修复 SDK留言界面中没有姓名字段

Version 3.4.3 *(2017-06-02)*
----------------------------
- 优化 支持显示 有关联消息的富文本机器人消息
- 新增 是否压缩图片的接口

Version 3.4.2 *(2017-04-20)*
----------------------------
- 优化 支持 Android 7.0 拍照
- 修复 通过 customizedId 获取未读消息不准问题
- 修复 录音的时候，可能出现 Resources.NotFoundException 异常
- 修复 富文本显示的时候末尾会换行问题

Version 3.4.1 *(2017-03-28)*
----------------------------
- 修复 工单微信字段改为 weixin
- 修复 可能会出现 socket 连两次的问题
- 优化 去掉默认打印的 log 输出
- 优化 捕获一些特殊异常

Version 3.4.0 *(2016-12-29)*
----------------------------
- 优化 替换掉以前的 WebSocket 库，提高连接稳定性

Version 3.3.7、3.3.8、3.3.9*(2016-12-05)*
----------------------------
- 修复 在 socket 断掉的情况下, 对话结束后, 发送消息会失败的问题
- 优化 SDK 中，获取未读消息接口, 时间以聊天界面, 收到的最后一条消息时间为准

Version 3.3.6 *(2016-11-18)*
----------------------------
- 修复 某些情况, 头像没有裁剪成圆形
- 优化 获取未读消息的时候, 如果当前用户没有上过线, 则返回未读消息为 0

Version 3.3.5 *(2016-10-31)*
----------------------------
- 修复 多企业绑定自定义 id 发消息不成功的问题

Version 3.3.4 *(2016-10-21)*
----------------------------
- 优化 网络不稳定的情况下,提高消息的可靠性
- 优化 工单界面,每次提交都新建工单
- 修复 改变标题栏文字颜色会导致返回图标颜色跟着改变的问题
- 修复 客服信息没有签名的问题
- 新增 工单分类选择
- 新增 对话结束 广播

Version 3.3.2、3.3.3 *(2016-10-01)*
----------------------------
- 优化 可以通过多个 appKey 初始化

Version 3.3.1 *(2016-09-09)*
----------------------------
- 优化 机器人图文消息用气泡的方式渲染
- 修复 顾客消息可能重复的问题
- 修复 留言的时候给机器人消息评价,会导致异常的问题

Version 3.3.0 *(2016-08-30)*
----------------------------
- 新增 机器人图文消息
- 新增 机器人关联问题

Version 3.2.9 *(2016-08-19)*
----------------------------
- 新增 支持工单接口

Version 3.2.8 *(2016-08-15)*
----------------------------
- 新增 支持询前表单
- 优化 没有设置顾客头像的时候不加载顾客头像
- 优化 未读消息过滤顾客的消息

Version 3.2.7 *(2016-07-27)*
----------------------------
- 新增 根据工作台配置的机器人回答未匹配次数，显示转人工的提示消息

Version 3.2.6 *(2016-07-22)*
----------------------------
- 新增 新增机器人反馈后的气泡显示

Version 3.2.5 *(2016-07-18)*
----------------------------
- 新增 MQManager 新增更新顾客信息接口 updateClientInfo
- 新增 MQIntentBuilder 新增预发送消息接口 setPreSendTextMessage、setPreSendImageMessage
- 新增 MQConfig 新增配置是否显示客户头像 isShowClientAvatar
- 新增 MQConfig 新增 MQConversationActivity 生命周期的回调接口 setActivityLifecycleCallback
- 新增 取消 gradle 依赖 PhotoView，依赖 PhotoView 源码的方式支持查看长图
- 修复 修复手机里没有图片时应用崩溃问题
- 修复 修复把非图片文件的后缀名改成图片文件后缀名时发送图片崩溃

Version 3.2.4 *(2016-07-05)*
----------------------------
- 新增 支持图文消息
- 修复 分配到机器人无法发送图片
- 优化 优化初始化接口,减少初始化参数
- 优化 图片加载库

Version 3.2.3 *(2016-06-21)*
----------------------------
- 新增 排队功能
- 修复 大图下载 ANR

Version 3.2.2 *(2016-06-06)*
----------------------------
- 修复 修复机器人客服菜单消息显示错乱

Version 3.2.1 *(2016-06-05)*
----------------------------
- 新增 美洽 SDK 错误日志收集
- 优化 兼容新版机器人客服消息
- 修复 修复 MQConversationActivity 内存泄漏  fix #91

Version 3.2.0 *(2016-05-28)*
----------------------------
- 新增 机器人客服
- 新增 留言表单
- 优化 okhttp2 升级到 okhttp3
- 优化 聊天界面图片加载
- 修复 拍照导致 Activity 被回收造成的空指针问题

Version 3.1.8 *(2016-05-16)*
----------------------------
- 修复 新建顾客没有第一次对话没有设备信息的问题

Version 3.1.7 *(2016-05-13)*
----------------------------
- 优化 更改顾客被拉黑时候的文案
- 优化 Android6.0 权限处理: 如果跳转界面之前没有获取权限,界面内需要权限时会再次申请
- 优化 MQIntentBuilder 如果 context 不是 Activity 的实例,自动添加 FLAG_ACTIVITY_NEW_TASK 的 FLAG
- 优化 当 App 退到后台,默认关闭美洽服务,节省电量: api >= 14 有效
- 新增 是否显示评价按钮开关
- 新增 监听 App 前后台生命周期: api >= 14 有效
- 修复 如果没有外部储存卡,拍照可能空指针问题

Version 3.1.6 *(2016-04-26)*
----------------------------
- 新增「黑名单」功能
- 新增「文件传输」功能
- 新增 切换当前顾客接口
- 修复 上传顾客信息失败后不会重新上传问题
- 优化代码，提高代码健壮性

Version 3.1.5 *(2016-03-31)*
----------------------------
- 初始化美洽 SDK 由以前的 MQManager.init(context, appKey, onInitCallBack)改为MQConfig.init(context, appKey, imageLoader, onInitCallBack)
- 优化图片加载库的使用，目前支持 glide、picasso、universalimageloader
- 修复直接给 AndroidManifest.xml 的 application 节点的 label 属性指定字符串时，保存图片出现空指针异常
- 修复特殊情况下断网时出现空指针异常

Version 3.1.4 *(2016-03-23)*
----------------------------
- 增加获取未读消息接口
- 增加自定义图片选择器
- 增加自定义聊天界面
- 增加 MQIntentBuilder 来构建打开 MQConversationActivity 的 Intent
- 优化自定义键盘切换速度
- 优化上线成功后设置顾客信息
- 修复指定分配后进入留言，发送留言失败
- 修复部分机型时间转换误差

Version 3.1.3 *(2016-03-09)*
----------------------------
- 修复部分手机时间戳不准问题
- 修复结束对话后，有几率收不到消息问题
- 修复指定分配无效问题
- 优化声音提醒

Version 3.1.2 *(2016-03-01)*
----------------------------

- 调整图片浏览

Version 3.1.1 *(2016-02-29)*
----------------------------

- 增加显示客服留言功能
- 优化图片浏览
- 修复从文件选择图片发送崩溃问题

Version 3.1.0 *(2016-02-03)*
----------------------------

- 新版聊天界面
- 新增评价功能

Version 3.0.9 *(2016-01-20)*
----------------------------

- 修复断网后，可能出现消息重复问题
- 修复多线程操作数据库造成的异常

Version 3.0.8 *(2016-01-18)*
----------------------------

- 移除在美洽 SDK 中处理 Android 6.0 的动态权限问题

Version 3.0.7 *(2016-01-18)*
----------------------------

- 修复断网重连后，收不到断网期间客服发送消息的问题
- 修复失败重发时，如果连续点击重发按钮导致连续发送消息的问题
- 修复失败重发后，数据库状态更新失败的问题
- 新增：增加删除消息接口
- 新增：一些简单的自定义UI接口

Version 3.0.6 *(2016-01-08)*
----------------------------

- 指定分配接口：增加设置分配规则
- 更改接口名：openMeiQiaRemotePushService -> closeMeiQiaService
- 更改接口名：closeMeiQiaRemotePushService -> openMeiQiaRemotePushService
